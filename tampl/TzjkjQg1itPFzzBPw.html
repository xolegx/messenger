<html><head><base href="." />
<meta charset="UTF-8" />
<title>Telegram-Style Messenger with Secret Panel</title>
<style>
:root {
  --primary: #2AABEE;
  --secondary: #229ED9;
  --dark: #333;
  --light: #fff;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

body {
  background: #f5f5f5;
  height: 100vh;
  display: flex;
  flex-direction: column;
  transition: all 0.5s ease;
}

.header {
  background: var(--primary);
  color: var(--light);
  padding: 1rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  position: relative;
  transition: all 0.5s ease;
}

.logo {
  width: 40px;
  height: 40px;
  transition: transform 0.3s ease;
}

.logo.spin {
  animation: spin 2s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

h1 {
  cursor: pointer;
  user-select: none;
  transition: transform 0.3s ease;
}

h1:hover {
  transform: scale(1.05);
}

.secret-panel {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  background: var(--dark);
  color: var(--light);
  padding: 1rem;
  transform: translateY(-100%);
  opacity: 0;
  transition: all 0.3s;
  visibility: hidden;
  z-index: 100;
}

.secret-panel.visible {
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.mood-controls {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  margin: 1rem 0;
}

.mood-slider {
  width: 100%;
  margin: 0.5rem 0;
  cursor: pointer;
}

.chat-container {
  flex: 1;
  padding: 1rem;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 1rem;
  transition: background 0.5s ease;
}

.message {
  max-width: 70%;
  padding: 0.8rem;
  border-radius: 8px;
  animation: fadeIn 0.3s ease-in;
  transition: all 0.3s ease;
}

.message.received {
  background: var(--light);
  align-self: flex-start;
}

.message.sent {
  background: var(--primary);
  color: var(--light);
  align-self: flex-end;
}

.input-area {
  padding: 1rem;
  background: var(--light);
  display: flex;
  gap: 1rem;
  border-top: 1px solid #ddd;
  transition: all 0.3s ease;
}

input {
  flex: 1;
  padding: 0.8rem;
  border: 1px solid #ddd;
  border-radius: 20px;
  outline: none;
  transition: all 0.3s ease;
}

button {
  background: var(--primary);
  color: var(--light);
  border: none;
  padding: 0.8rem 1.5rem;
  border-radius: 20px;
  cursor: pointer;
  transition: all 0.3s;
}

button:hover {
  background: var(--secondary);
  transform: scale(1.05);
}

.secret-button {
  background: var(--dark);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes ambient {
  0% { box-shadow: 0 0 10px rgba(42, 171, 238, 0.5); }
  50% { box-shadow: 0 0 20px rgba(42, 171, 238, 0.8); }
  100% { box-shadow: 0 0 10px rgba(42, 171, 238, 0.5); }
}

.ambient-effect {
  animation: ambient 2s infinite;
}

.creepy {
  filter: hue-rotate(180deg) contrast(150%) brightness(80%);
  transition: all 0.5s ease;
}

.happy {
  filter: saturate(150%) brightness(110%);
  transition: all 0.5s ease;
}

.crazy {
  filter: hue-rotate(90deg) contrast(120%) brightness(120%);
  animation: crazyShake 0.5s infinite;
  transition: all 0.5s ease;
}

@keyframes crazyShake {
  0% { transform: translate(1px, 1px) rotate(0deg); }
  10% { transform: translate(-1px, -2px) rotate(-1deg); }
  20% { transform: translate(-3px, 0px) rotate(1deg); }
  30% { transform: translate(3px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-1px, 2px) rotate(-1deg); }
  60% { transform: translate(-3px, 1px) rotate(0deg); }
  70% { transform: translate(3px, 1px) rotate(-1deg); }
  80% { transform: translate(-1px, -1px) rotate(1deg); }
  90% { transform: translate(1px, 2px) rotate(0deg); }
  100% { transform: translate(1px, -2px) rotate(-1deg); }
}
</style>
</head>
<body>
  <div class="header">
    <svg class="logo" viewBox="0 0 240 240" fill="white">
      <path d="M66.964 134.874s-32.08-10.062-51.344-16.002c-17.542-6.693-1.57-14.928 6.015-13.567 27.04 2.372 66.371 20.786 66.371 20.786s36.315-116.24 54.532-156.228c10.875-23.835 21.765 7.562 21.765 7.562l-39.897 135.638s46.252-28.036 65.056-43.216c11.844-9.807 19.898 1.05 14.258 8.959-16.95 24.137-68.879 82.327-68.879 82.327s41.733 51.318 68.879 82.327c8.919 10.424-1.921 19.06-14.258 8.959-18.804-15.18-65.056-43.216-65.056-43.216l39.897 135.638s-10.89 31.397-21.765 7.562c-18.217-39.988-54.532-156.228-54.532-156.228s-39.331 18.414-66.371 20.786c-7.585 1.361-23.557-6.874-6.015-13.567 19.264-5.94 51.344-16.002 51.344-16.002"/>
    </svg>
    <h1 id="titleText">Telegram</h1>
    <div class="secret-panel" id="secretPanel">
      <h3>Secret Controls</h3>
      <p>Click count: <span id="clickCount">0</span></p>
      <div class="mood-controls">
        <label>Creepy Level (0-10): <span id="creepyValue">0</span></label>
        <input type="range" min="0" max="10" value="0" class="mood-slider" id="creepySlider">
        
        <label>Happy Level (0-10): <span id="happyValue">0</span></label>
        <input type="range" min="0" max="10" value="0" class="mood-slider" id="happySlider">
        
        <label>Crazy Level (0-10): <span id="crazyValue">0</span></label>
        <input type="range" min="0" max="10" value="0" class="mood-slider" id="crazySlider">
      </div>
      <button class="secret-button" id="clearButton">Clear Chat</button>
      <button class="secret-button" id="darkModeButton">Toggle Dark Mode</button>
    </div>
  </div>

  <div class="chat-container" id="chatContainer">
    <div class="message received">Hello! Welcome to Telegram 👋</div>
  </div>

  <div class="input-area">
    <input type="text" id="messageInput" placeholder="Write a message..." />
    <button id="sendButton">Send</button>
  </div>

<script>
const chatContainer = document.getElementById('chatContainer');
const messageInput = document.getElementById('messageInput');
const sendButton = document.getElementById('sendButton');
const titleText = document.getElementById('titleText');
const secretPanel = document.getElementById('secretPanel');
const clickCount = document.getElementById('clickCount');
const clearButton = document.getElementById('clearButton');
const darkModeButton = document.getElementById('darkModeButton');
const logo = document.querySelector('.logo');

// Mood sliders
const creepySlider = document.getElementById('creepySlider');
const happySlider = document.getElementById('happySlider');
const crazySlider = document.getElementById('crazySlider');
const creepyValue = document.getElementById('creepyValue');
const happyValue = document.getElementById('happyValue');
const crazyValue = document.getElementById('crazyValue');

let clicks = 0;
let isDarkMode = false;

function updateMoodDisplay() {
  const creepy = parseInt(creepySlider.value);
  const happy = parseInt(happySlider.value);
  const crazy = parseInt(crazySlider.value);
  
  creepyValue.textContent = creepy;
  happyValue.textContent = happy;
  crazyValue.textContent = crazy;
  
  // Reset all effects
  document.body.className = '';
  logo.classList.remove('spin');
  document.body.style.filter = '';
  
  // Apply effects based on highest value
  if (creepy > happy && creepy > crazy && creepy > 5) {
    document.body.classList.add('creepy');
    document.body.style.background = `hsl(${240 + creepy * 10}, 30%, ${20 - creepy}%)`;
  } else if (happy > creepy && happy > crazy && happy > 5) {
    document.body.classList.add('happy');
    document.body.style.background = `hsl(${50 + happy * 5}, ${60 + happy * 4}%, ${85 + happy}%)`;
    if (happy > 7) logo.classList.add('spin');
  } else if (crazy > creepy && crazy > happy && crazy > 5) {
    document.body.classList.add('crazy');
    document.body.style.background = `hsl(${crazy * 36}, ${70 + crazy * 3}%, 70%)`;
    if (crazy > 7) logo.classList.add('spin');
  }

  // Apply ambient effects
  const maxMood = Math.max(creepy, happy, crazy);
  if (maxMood > 7) {
    document.body.classList.add('ambient-effect');
  } else {
    document.body.classList.remove('ambient-effect');
  }
}

function sendMessage() {
  const message = messageInput.value.trim();
  if (message) {
    addMessage(message, 'sent');
    messageInput.value = '';
    
    setTimeout(() => {
      const creepyLevel = parseInt(creepySlider.value);
      const happyLevel = parseInt(happySlider.value);
      const crazyLevel = parseInt(crazySlider.value);
      
      let replies = ["I understand what you mean."];
      
      if (creepyLevel > 7) {
        replies = [
          "I'm watching you...",
          "You can't escape...",
          "Behind you...",
          "Don't look now...",
          "Forever and ever..."
        ];
      } else if (happyLevel > 7) {
        replies = [
          "That's wonderful! 🌟",
          "You're amazing! 🌈",
          "Life is beautiful! 🌺",
          "Everything is awesome! 🎉",
          "Pure joy! 💖"
        ];
      } else if (crazyLevel > 7) {
        replies = [
          "WHEEEEEE! 🎪",
          "ABSOLUTELY BANANAS! 🍌",
          "CHAOS REIGNS! 🌪️",
          "WOOP WOOP! 🤪",
          "PARTY TIME! 🎭"
        ];
      }
      
      const randomReply = replies[Math.floor(Math.random() * replies.length)];
      addMessage(randomReply, 'received');
    }, 1000);
  }
}

function addMessage(text, type) {
  const messageDiv = document.createElement('div');
  messageDiv.className = `message ${type}`;
  messageDiv.textContent = text;
  chatContainer.appendChild(messageDiv);
  chatContainer.scrollTop = chatContainer.scrollHeight;
}

function toggleSecretPanel() {
  clicks++;
  clickCount.textContent = clicks;
  if (clicks >= 5) {
    secretPanel.classList.add('visible');
  }
}

function clearChat() {
  chatContainer.innerHTML = '';
  addMessage('Chat cleared!', 'received');
}

function toggleDarkMode() {
  isDarkMode = !isDarkMode;
  document.body.style.background = isDarkMode ? '#1E1E1E' : '#f5f5f5';
  document.querySelectorAll('.message.received').forEach(msg => {
    msg.style.background = isDarkMode ? '#2C2C2C' : 'var(--light)';
    msg.style.color = isDarkMode ? 'var(--light)' : 'var(--dark)';
  });
}

// Event Listeners
sendButton.addEventListener('click', sendMessage);
messageInput.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') {
    sendMessage();
  }
});
titleText.addEventListener('click', toggleSecretPanel);
clearButton.addEventListener('click', clearChat);
darkModeButton.addEventListener('click', toggleDarkMode);

// Mood slider listeners
creepySlider.addEventListener('input', updateMoodDisplay);
happySlider.addEventListener('input', updateMoodDisplay);
crazySlider.addEventListener('input', updateMoodDisplay);

// Close secret panel when clicking outside
document.addEventListener('click', (e) => {
  if (!secretPanel.contains(e.target) && !titleText.contains(e.target)) {
    secretPanel.classList.remove('visible');
    clicks = 0;
    clickCount.textContent = clicks;
  }
});
</script>
</body></html>